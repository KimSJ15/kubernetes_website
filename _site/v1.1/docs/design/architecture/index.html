<!Doctype html>
<html id="docs">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link href='https://fonts.googleapis.com/css?family=Roboto:400,100,100italic,300,300italic,400italic,500,500italic,700,700italic,900,900italic' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" href="/css/styles.css"/>
	<script src="/js/script.js"></script>
    <script src="/js/jquery-2.2.0.min.js"></script>
    <script src="/js/non-mini.js"></script>
    <title>Kubernetes - Kubernetes architecture</title>
</head>
<body>
<div id="cellophane" onclick="kub.toggleMenu()"></div>
<header>
	<a href="/" class="logo"></a>
	<div class="nav-buttons" data-auto-burger="primary">
		<a href="/docs" class="button" id="viewDocs">View Documentation</a>
		<a href="/get-started" class="button" id="tryKubernetes">Try Kubernetes</a>
		<button id="hamburger" onclick="kub.toggleMenu()" data-auto-burger-exclude><div></div></button>
	</div>

	<nav id="mainNav">
		<main data-auto-burger="primary">
			<div class="nav-box">
				<h3><a href="">Get Started</a></h3>
				<p>Built for a multi-cloud world, public, private or hybrid. Seamlessly roll out new features.</p>
			</div>
			<div class="nav-box">
				<h3><a href="">Documentation</a></h3>
				<p>Pellentesque in ipsum id orci porta dapibus. Nulla porttitor accumsan tincidunt. </p>
			</div>
			<div class="nav-box">
				<h3><a href="">Community</a></h3>
				<p>Vestibulum ac diam sit amet quam vehicula elementum sed sit amet dui. </p>
			</div>
			<div class="nav-box">
				<h3><a href="">Blog</a></h3>
				<p>Curabitur arcu erat, accumsan id imperdiet et, porttitor at sem. Quisque velit nisi, pretium ut lacinia in. </p>
			</div>
		</main>
		<main data-auto-burger="primary">
			<div class="left">
				<h5 class="github-invite">Interested in hacking on the core Kubernetes code base?</h5>
				<a href="" class="button">View On Github</a>
			</div>

			<div class="right">
				<h5 class="github-invite">Explore the community</h5>
				<div class="social">
					<a href="https://twitter.com/kubernetesio" class="Twitter"><span>twitter</span></a>
					<a href="https://github.com/kubernetes/kubernetes" class="github"><span>Github</span></a>
					<a href="http://slack.k8s.io/" class="slack"><span>Slack</span></a>
					<a href="http://stackoverflow.com/questions/tagged/kubernetes" class="stack-overflow"><span>stackoverflow</span></a>
					<a href="https://groups.google.com/forum/#!forum/google-containers" class="mailing-list"><span>Mailing List</span></a>
				</div>
			</div>
			<div class="clear" style="clear: both"></div>
		</main>
	</nav>
</header>

<!--  HERO  -->
<section id="hero" class="light-text">
	<h1></h1>
	<h5></h5>
	<div id="vendorStrip" class="light-text">
		<ul>
			<li><a href="/v1.1/">GUIDES</a></li>
			<li><a href="/v1.1/reference">REFERENCE</a></li>
			<li><a href="/v1.1/samples">SAMPLES</a></li>
			<li><a href="/v1.1/support">SUPPORT</a></li>
		</ul>
		<div class="dropdown">
			<div class="readout"></div>
			<a href="/v1.1">Version 1.1</a>
			<a href="/v1.0">Version 1.0</a>
		</div>
		<input type="text" id="search" placeholder="Search the docs">
	</div>
</section>

<section id="encyclopedia">
	<div id="docsToc">
        <div class="pi-accordion">
            
            

        </div> <!-- /pi-accordion -->
	</div> <!-- /docsToc -->
	<div id="docsContent">
    	<h1>Kubernetes architecture</h1>
		<!-- BEGIN MUNGE: UNVERSIONED_WARNING -->

<!-- END MUNGE: UNVERSIONED_WARNING -->

<h1 id="kubernetes-architecture">Kubernetes architecture</h1>

<p>A running Kubernetes cluster contains node agents (<code>kubelet</code>) and master components (APIs, scheduler, etc), on top of a distributed storage solution. This diagram shows our desired eventual state, though we’re still working on a few things, like making <code>kubelet</code> itself (all our components, really) run within containers, and making the scheduler 100% pluggable.</p>

<p><img src="architecture.png?raw=true" alt="Architecture Diagram" title="Architecture overview" /></p>

<h2 id="the-kubernetes-node">The Kubernetes Node</h2>

<p>When looking at the architecture of the system, we’ll break it down to services that run on the worker node and services that compose the cluster-level control plane.</p>

<p>The Kubernetes node has the services necessary to run application containers and be managed from the master systems.</p>

<p>Each node runs Docker, of course.  Docker takes care of the details of downloading images and running containers.</p>

<h3 id="kubelet"><code>kubelet</code></h3>

<p>The <code>kubelet</code> manages <a href="../user-guide/pods.html">pods</a> and their containers, their images, their volumes, etc.</p>

<h3 id="kube-proxy"><code>kube-proxy</code></h3>

<p>Each node also runs a simple network proxy and load balancer (see the <a href="https://github.com/kubernetes/kubernetes/wiki/Services-FAQ">services FAQ</a> for more details).  This reflects <code>services</code> (see <a href="../user-guide/services.html">the services doc</a> for more details) as defined in the Kubernetes API on each node and can do simple TCP and UDP stream forwarding (round robin) across a set of backends.</p>

<p>Service endpoints are currently found via <a href="../admin/dns.html">DNS</a> or through environment variables (both <a href="https://docs.docker.com/userguide/dockerlinks/">Docker-links-compatible</a> and Kubernetes <code>{FOO}_SERVICE_HOST</code> and <code>{FOO}_SERVICE_PORT</code> variables are supported).  These variables resolve to ports managed by the service proxy.</p>

<h2 id="the-kubernetes-control-plane">The Kubernetes Control Plane</h2>

<p>The Kubernetes control plane is split into a set of components. Currently they all run on a single <em>master</em> node, but that is expected to change soon in order to support high-availability clusters.  These components work together to provide a unified view of the cluster.</p>

<h3 id="etcd"><code>etcd</code></h3>

<p>All persistent master state is stored in an instance of <code>etcd</code>.  This provides a great way to store configuration data reliably.  With <code>watch</code> support, coordinating components can be notified very quickly of changes.</p>

<h3 id="kubernetes-api-server">Kubernetes API Server</h3>

<p>The apiserver serves up the <a href="../api.html">Kubernetes API</a>. It is intended to be a CRUD-y server, with most/all business logic implemented in separate components or in plug-ins. It mainly processes REST operations, validates them, and updates the corresponding objects in <code>etcd</code> (and eventually other stores).</p>

<h3 id="scheduler">Scheduler</h3>

<p>The scheduler binds unscheduled pods to nodes via the <code>/binding</code> API. The scheduler is pluggable, and we expect to support multiple cluster schedulers and even user-provided schedulers in the future.</p>

<h3 id="kubernetes-controller-manager-server">Kubernetes Controller Manager Server</h3>

<p>All other cluster-level functions are currently performed by the Controller Manager. For instance, <code>Endpoints</code> objects are created and updated by the endpoints controller, and nodes are discovered, managed, and monitored by the node controller. These could eventually be split into separate components to make them independently pluggable.</p>

<p>The <a href="../user-guide/replication-controller.html"><code>replicationcontroller</code></a> is a mechanism that is layered on top of the simple <a href="../user-guide/pods.html"><code>pod</code></a> API. We eventually plan to port it to a generic plug-in mechanism, once one is implemented.</p>

<!-- BEGIN MUNGE: IS_VERSIONED -->
<!-- TAG IS_VERSIONED -->
<!-- END MUNGE: IS_VERSIONED -->

<!-- BEGIN MUNGE: GENERATED_ANALYTICS -->
<p><a href=""><img src="https://kubernetes-site.appspot.com/UA-36037335-10/GitHub/docs/design/architecture.md?pixel" alt="Analytics" /></a>
<!-- END MUNGE: GENERATED_ANALYTICS --></p>


	</div>
</section>


<footer>
	<main class="light-text">
		<nav>
			<a href="/getting-started.html">Getting Started</a>
			<a href="/docs.html">Documentation</a>
			<a href="http://blog.kubernetes.io/">Blog</a>
			<a href="/foobang.html">Community</a>
		</nav>
		<div class="social">
			<a href="https://twitter.com/kubernetesio" class="twitter"><span>twitter</span></a>
			<a href="https://github.com/kubernetes/kubernetes" class="github"><span>Github</span></a>
			<a href="http://slack.k8s.io/" class="slack"><span>Slack</span></a>
			<a href="http://stackoverflow.com/questions/tagged/kubernetes" class="stack-overflow"><span>stackoverflow</span></a>
			<a href="https://groups.google.com/forum/#!forum/google-containers" class="mailing-list"><span>Mailing List</span></a>
			<label for="wishField">I wish this page <input type="text" id="wishField" name="wishField" placeholder="made better textfield suggestions"></label>
		</div>
		<div class="center">&copy; 2016 Kubernetes</div>
	</main>
</footer>

</body>
</html>



