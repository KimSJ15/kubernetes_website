<!Doctype html>
<html id="docs">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link href='https://fonts.googleapis.com/css?family=Roboto:400,100,100italic,300,300italic,400italic,500,500italic,700,700italic,900,900italic' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" href="/css/styles.css"/>
	<script src="/js/script.js"></script>
    <script src="/js/jquery-2.2.0.min.js"></script>
    <script src="/js/non-mini.js"></script>
    <title>Kubernetes - Kubernetes Development Automation</title>
</head>
<body>
<div id="cellophane" onclick="kub.toggleMenu()"></div>
<header>
	<a href="/" class="logo"></a>
	<div class="nav-buttons" data-auto-burger="primary">
		<a href="/docs" class="button" id="viewDocs">View Documentation</a>
		<a href="/get-started" class="button" id="tryKubernetes">Try Kubernetes</a>
		<button id="hamburger" onclick="kub.toggleMenu()" data-auto-burger-exclude><div></div></button>
	</div>

	<nav id="mainNav">
		<main data-auto-burger="primary">
			<div class="nav-box">
				<h3><a href="">Get Started</a></h3>
				<p>Built for a multi-cloud world, public, private or hybrid. Seamlessly roll out new features.</p>
			</div>
			<div class="nav-box">
				<h3><a href="">Documentation</a></h3>
				<p>Pellentesque in ipsum id orci porta dapibus. Nulla porttitor accumsan tincidunt. </p>
			</div>
			<div class="nav-box">
				<h3><a href="">Community</a></h3>
				<p>Vestibulum ac diam sit amet quam vehicula elementum sed sit amet dui. </p>
			</div>
			<div class="nav-box">
				<h3><a href="">Blog</a></h3>
				<p>Curabitur arcu erat, accumsan id imperdiet et, porttitor at sem. Quisque velit nisi, pretium ut lacinia in. </p>
			</div>
		</main>
		<main data-auto-burger="primary">
			<div class="left">
				<h5 class="github-invite">Interested in hacking on the core Kubernetes code base?</h5>
				<a href="" class="button">View On Github</a>
			</div>

			<div class="right">
				<h5 class="github-invite">Explore the community</h5>
				<div class="social">
					<a href="https://twitter.com/kubernetesio" class="Twitter"><span>twitter</span></a>
					<a href="https://github.com/kubernetes/kubernetes" class="github"><span>Github</span></a>
					<a href="http://slack.k8s.io/" class="slack"><span>Slack</span></a>
					<a href="http://stackoverflow.com/questions/tagged/kubernetes" class="stack-overflow"><span>stackoverflow</span></a>
					<a href="https://groups.google.com/forum/#!forum/google-containers" class="mailing-list"><span>Mailing List</span></a>
				</div>
			</div>
			<div class="clear" style="clear: both"></div>
		</main>
	</nav>
</header>

<!--  HERO  -->
<section id="hero" class="light-text">
	<h1></h1>
	<h5></h5>
	<div id="vendorStrip" class="light-text">
		<ul>
			<li><a href="/v1.1/">GUIDES</a></li>
			<li><a href="/v1.1/reference">REFERENCE</a></li>
			<li><a href="/v1.1/samples">SAMPLES</a></li>
			<li><a href="/v1.1/support">SUPPORT</a></li>
		</ul>
		<div class="dropdown">
			<div class="readout"></div>
			<a href="/v1.1">Version 1.1</a>
			<a href="/v1.0">Version 1.0</a>
		</div>
		<input type="text" id="search" placeholder="Search the docs">
	</div>
</section>

<section id="encyclopedia">
	<div id="docsToc">
        <div class="pi-accordion">
            
            

        </div> <!-- /pi-accordion -->
	</div> <!-- /docsToc -->
	<div id="docsContent">
    	<h1>Kubernetes Development Automation</h1>
		<!-- BEGIN MUNGE: UNVERSIONED_WARNING -->

<!-- END MUNGE: UNVERSIONED_WARNING -->

<h1 id="kubernetes-development-automation">Kubernetes Development Automation</h1>

<h2 id="overview">Overview</h2>

<p>Kubernetes uses a variety of automated tools in an attempt to relieve developers of repeptitive, low
brain power work.  This document attempts to describe these processes.</p>

<h2 id="submit-queue">Submit Queue</h2>

<p>In an effort to
   * reduce load on core developers
   * maintain e2e stability
   * load test githubs label feature</p>

<p>We have added an automated <a href="https://github.com/kubernetes/contrib/tree/master/submit-queue">submit-queue</a>
for kubernetes.</p>

<p>The submit-queue does the following:</p>

<div class="highlight">
  <pre><code class="language-go">for _, pr := range readyToMergePRs() {
    if testsAreStable() {
        mergePR(pr)
    }
}
</code></pre>
</div>

<p>The status of the submit-queue is <a href="http://submit-queue.k8s.io/">online.</a></p>

<h3 id="ready-to-merge-status">Ready to merge status</h3>

<p>A PR is considered “ready for merging” if it matches the following:
   * it has the <code>lgtm</code> label, and that <code>lgtm</code> is newer than the latest commit
   * it has passed the cla pre-submit and has the <code>cla:yes</code> label
   * it has passed the travis and shippable pre-submit tests
   * one (or all) of
      * its author is in kubernetes/contrib/submit-queue/whitelist.txt
      * its author is in contributors.txt via the github API.
      * the PR has the <code>ok-to-merge</code> label
   * One (or both of)
      * it has passed the Jenkins e2e test
      * it has the <code>e2e-not-required</code> label</p>

<p>Note that the combined whitelist/committer list is available at <a href="http://submit-queue.k8s.io">submit-queue.k8s.io</a></p>

<h3 id="merge-process">Merge process</h3>

<p>Merges <em>only</em> occur when the <code>critical builds</code> (Jenkins e2e for gce, gke, scalability, upgrade) are passing.
We’re open to including more builds here, let us know…</p>

<p>Merges are serialized, so only a single PR is merged at a time, to ensure against races.</p>

<p>If the PR has the <code>e2e-not-required</code> label, it is simply merged.
If the PR does not have this label, e2e tests are re-run, if these new tests pass, the PR is merged.</p>

<p>If e2e flakes or is currently buggy, the PR will not be merged, but it will be re-run on the following
pass.</p>

<h2 id="github-munger">Github Munger</h2>

<p>We also run a <a href="https://github.com/kubernetes/contrib/tree/master/mungegithub">github “munger”</a></p>

<p>This runs repeatedly over github pulls and issues and runs modular “mungers” similar to “mungedocs”</p>

<p>Currently this runs:
   * blunderbuss - Tries to automatically find an owner for a PR without an owner, uses mapping file here:
        https://github.com/kubernetes/contrib/blob/master/mungegithub/blunderbuss.yml
   * needs-rebase - Adds <code>needs-rebase</code> to PRs that aren’t currently mergeable, and removes it from those that are.
   * size - Adds <code>size/xs</code> - <code>size/xxl</code> labels to PRs
   * ok-to-test - Adds the <code>ok-to-test</code> message to PRs that have an <code>lgtm</code> but the e2e-builder would otherwise not test due to whitelist
   * ping-ci - Attempts to ping the ci systems (Travis/Shippable) if they are missing from a PR.
   * lgtm-after-commit - Removes the <code>lgtm</code> label from PRs where there are commits that are newer than the <code>lgtm</code> label</p>

<p>In the works:
   * issue-detector - machine learning for determining if an issue that has been filed is a <code>support</code> issue, <code>bug</code> or <code>feature</code></p>

<p>Please feel free to unleash your creativity on this tool, send us new mungers that you think will help support the Kubernetes development process.</p>

<h2 id="pr-builder">PR builder</h2>

<p>We also run a robotic PR builder that attempts to run e2e tests for each PR.</p>

<p>Before a PR from an unknown user is run, the PR builder bot (<code>k8s-bot</code>) asks to a message from a
contributor that a PR is “ok to test”, the contributor replies with that message.  Contributors can also
add users to the whitelist by replying with the message “add to whitelist” (“please” is optional, but
remember to treat your robots with kindness…)</p>

<p>If a PR is approved for testing, and tests either haven’t run, or need to be re-run, you can ask the
PR builder to re-run the tests.  To do this, reply to the PR with a message that begins with <code>@k8s-bot test this</code>, this should trigger a re-build/re-test.</p>

<h2 id="faq">FAQ:</h2>

<h4 id="how-can-i-ask-my-pr-to-be-tested-again-for-jenkins-failures">How can I ask my PR to be tested again for Jenkins failures?</h4>

<p>Right now you have to ask a contributor (this may be you!) to re-run the test with “@k8s-bot test this”</p>

<h3 id="how-can-i-kick-shippable-to-re-test-on-a-failure">How can I kick Shippable to re-test on a failure?</h3>

<p>Right now the easiest way is to close and then immediately re-open the PR.</p>

<!-- BEGIN MUNGE: IS_VERSIONED -->
<!-- TAG IS_VERSIONED -->
<!-- END MUNGE: IS_VERSIONED -->

<!-- BEGIN MUNGE: GENERATED_ANALYTICS -->
<p><a href=""><img src="https://kubernetes-site.appspot.com/UA-36037335-10/GitHub/docs/devel/automation.md?pixel" alt="Analytics" /></a>
<!-- END MUNGE: GENERATED_ANALYTICS --></p>


	</div>
</section>


<footer>
	<main class="light-text">
		<nav>
			<a href="/getting-started.html">Getting Started</a>
			<a href="/docs.html">Documentation</a>
			<a href="http://blog.kubernetes.io/">Blog</a>
			<a href="/foobang.html">Community</a>
		</nav>
		<div class="social">
			<a href="https://twitter.com/kubernetesio" class="twitter"><span>twitter</span></a>
			<a href="https://github.com/kubernetes/kubernetes" class="github"><span>Github</span></a>
			<a href="http://slack.k8s.io/" class="slack"><span>Slack</span></a>
			<a href="http://stackoverflow.com/questions/tagged/kubernetes" class="stack-overflow"><span>stackoverflow</span></a>
			<a href="https://groups.google.com/forum/#!forum/google-containers" class="mailing-list"><span>Mailing List</span></a>
			<label for="wishField">I wish this page <input type="text" id="wishField" name="wishField" placeholder="made better textfield suggestions"></label>
		</div>
		<div class="center">&copy; 2016 Kubernetes</div>
	</main>
</footer>

</body>
</html>



