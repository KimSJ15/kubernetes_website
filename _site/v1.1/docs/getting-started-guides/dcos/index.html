<!Doctype html>
<html id="docs">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link href='https://fonts.googleapis.com/css?family=Roboto:400,100,100italic,300,300italic,400italic,500,500italic,700,700italic,900,900italic' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" href="/css/styles.css"/>
	<script src="/js/script.js"></script>
    <script src="/js/jquery-2.2.0.min.js"></script>
    <script src="/js/non-mini.js"></script>
    <title>Kubernetes - Getting started with Kubernetes on DCOS</title>
</head>
<body>
<div id="cellophane" onclick="kub.toggleMenu()"></div>
<header>
	<a href="/" class="logo"></a>
	<div class="nav-buttons" data-auto-burger="primary">
		<a href="/docs" class="button" id="viewDocs">View Documentation</a>
		<a href="/get-started" class="button" id="tryKubernetes">Try Kubernetes</a>
		<button id="hamburger" onclick="kub.toggleMenu()" data-auto-burger-exclude><div></div></button>
	</div>

	<nav id="mainNav">
		<main data-auto-burger="primary">
			<div class="nav-box">
				<h3><a href="">Get Started</a></h3>
				<p>Built for a multi-cloud world, public, private or hybrid. Seamlessly roll out new features.</p>
			</div>
			<div class="nav-box">
				<h3><a href="">Documentation</a></h3>
				<p>Pellentesque in ipsum id orci porta dapibus. Nulla porttitor accumsan tincidunt. </p>
			</div>
			<div class="nav-box">
				<h3><a href="">Community</a></h3>
				<p>Vestibulum ac diam sit amet quam vehicula elementum sed sit amet dui. </p>
			</div>
			<div class="nav-box">
				<h3><a href="">Blog</a></h3>
				<p>Curabitur arcu erat, accumsan id imperdiet et, porttitor at sem. Quisque velit nisi, pretium ut lacinia in. </p>
			</div>
		</main>
		<main data-auto-burger="primary">
			<div class="left">
				<h5 class="github-invite">Interested in hacking on the core Kubernetes code base?</h5>
				<a href="" class="button">View On Github</a>
			</div>

			<div class="right">
				<h5 class="github-invite">Explore the community</h5>
				<div class="social">
					<a href="https://twitter.com/kubernetesio" class="Twitter"><span>twitter</span></a>
					<a href="https://github.com/kubernetes/kubernetes" class="github"><span>Github</span></a>
					<a href="http://slack.k8s.io/" class="slack"><span>Slack</span></a>
					<a href="http://stackoverflow.com/questions/tagged/kubernetes" class="stack-overflow"><span>stackoverflow</span></a>
					<a href="https://groups.google.com/forum/#!forum/google-containers" class="mailing-list"><span>Mailing List</span></a>
				</div>
			</div>
			<div class="clear" style="clear: both"></div>
		</main>
	</nav>
</header>

<!--  HERO  -->
<section id="hero" class="light-text">
	<h1></h1>
	<h5></h5>
	<div id="vendorStrip" class="light-text">
		<ul>
			<li><a href="/v1.1/guides">GUIDES</a></li>
			<li><a href="/v1.1/reference">REFERENCE</a></li>
			<li><a href="/v1.1/samples">SAMPLES</a></li>
			<li><a href="/v1.1/support">SUPPORT</a></li>
		</ul>
		<div class="dropdown">
			<div class="readout"></div>
			<a href="/v1.1">Version 1.1</a>
			<a href="/v1.0">Version 1.0</a>
		</div>
		<input type="text" id="search" placeholder="Search the docs">
	</div>
</section>

<section id="encyclopedia">
	<div id="docsToc">
        <div class="pi-accordion">
            
            

        </div> <!-- /pi-accordion -->
	</div> <!-- /docsToc -->
	<div id="docsContent">
    	<h1>Getting started with Kubernetes on DCOS</h1>
		<!-- BEGIN MUNGE: UNVERSIONED_WARNING -->

<!-- END MUNGE: UNVERSIONED_WARNING -->

<h2 id="getting-started-with-kubernetes-on-dcos">Getting started with Kubernetes on DCOS</h2>

<p>This guide will walk you through installing <a href="https://github.com/mesosphere/kubernetes-mesos">Kubernetes-Mesos</a> on <a href="https://mesosphere.com/product/">Datacenter Operating System (DCOS)</a> with the <a href="https://github.com/mesosphere/dcos-cli">DCOS CLI</a> and operating Kubernetes with the <a href="https://github.com/mesosphere/dcos-kubectl">DCOS Kubectl plugin</a>.</p>

<p><strong>Table of Contents</strong>
<!-- BEGIN MUNGE: GENERATED_TOC --></p>

<ul>
  <li><a href="#about-kubernetes-on-dcos">About Kubernetes on DCOS</a></li>
  <li><a href="#resources">Resources</a></li>
  <li><a href="#prerequisites">Prerequisites</a></li>
  <li><a href="#install">Install</a></li>
  <li><a href="#uninstall">Uninstall</a></li>
</ul>

<!-- END MUNGE: GENERATED_TOC -->

<h2 id="about-kubernetes-on-dcos">About Kubernetes on DCOS</h2>

<p>DCOS is system software that manages computer cluster hardware and software resources and provides common services for distributed applications. Among other services, it provides <a href="http://mesos.apache.org/">Apache Mesos</a> as its cluster kernel and <a href="https://mesosphere.github.io/marathon/">Marathon</a> as its init system. With DCOS CLI, Mesos frameworks like <a href="https://github.com/mesosphere/kubernetes-mesos">Kubernetes-Mesos</a> can be installed with a single command.</p>

<p>Another feature of the DCOS CLI is that it allows plugins like the <a href="https://github.com/mesosphere/dcos-kubectl">DCOS Kubectl plugin</a>. This allows for easy access to a version-compatible Kubectl without having to manually download or install.</p>

<p>Further information about the benefits of installing Kubernetes on DCOS can be found in the <a href="https://releases.k8s.io/release-1.1/contrib/mesos/README.md">Kubernetes-Mesos documentation</a>.</p>

<p>For more details about the Kubernetes DCOS packaging, see the <a href="https://github.com/mesosphere/kubernetes-mesos">Kubernetes-Mesos project</a>.</p>

<p>Since Kubernetes-Mesos is still alpha, it is a good idea to familiarize yourself with the <a href="https://releases.k8s.io/release-1.1/contrib/mesos/docs/issues.md">current known issues</a> which may limit or modify the behavior of Kubernetes on DCOS.</p>

<p>If you have problems completing the steps below, please <a href="https://github.com/mesosphere/kubernetes-mesos/issues">file an issue against the kubernetes-mesos project</a>.</p>

<h2 id="resources">Resources</h2>

<p>Explore the following resources for more information about Kubernetes, Kubernetes on Mesos/DCOS, and DCOS itself.</p>

<ul>
  <li><a href="https://docs.mesosphere.com/">DCOS Documentation</a></li>
  <li><a href="https://docs.mesosphere.com/services/kubernetes/">Managing DCOS Services</a></li>
  <li><a href="../../examples/README.html">Kubernetes Examples</a></li>
  <li><a href="https://releases.k8s.io/release-1.1/contrib/mesos/README.md">Kubernetes on Mesos Documentation</a></li>
  <li><a href="https://github.com/mesosphere/kubernetes-mesos/releases">Kubernetes on Mesos Release Notes</a></li>
  <li><a href="https://github.com/mesosphere/kubernetes-mesos">Kubernetes on DCOS Package Source</a></li>
</ul>

<h2 id="prerequisites">Prerequisites</h2>

<ul>
  <li>A running <a href="https://mesosphere.com/product/">DCOS cluster</a>
    <ul>
      <li><a href="https://docs.mesosphere.com/install/">DCOS Community Edition</a> is currently available on <a href="https://mesosphere.com/amazon/">AWS</a>.</li>
      <li><a href="https://mesosphere.com/product/">DCOS Enterprise Edition</a> can be deployed on virtual or bare metal machines. Contact sales@mesosphere.com for more info and to set up an engagement.</li>
    </ul>
  </li>
  <li><a href="https://docs.mesosphere.com/install/cli/">DCOS CLI</a> installed locally</li>
</ul>

<h2 id="install">Install</h2>

<ol>
  <li>
    <p>Configure and validate the <a href="https://github.com/mesosphere/multiverse">Mesosphere Multiverse</a> as a package source repository</p>

    <p>```</p>

    <p>$ dcos config prepend package.sources https://github.com/mesosphere/multiverse/archive/version-1.x.zip
 $ dcos package update –validate</p>

    <p>```</p>
  </li>
  <li>
    <p>Install etcd</p>

    <p>By default, the Kubernetes DCOS package starts a single-node etcd. In order to avoid state loss in the event of Kubernetes component container failure, install an HA <a href="https://github.com/mesosphere/etcd-mesos">etcd-mesos</a> cluster on DCOS.</p>

    <p>```</p>

    <p>$ dcos package install etcd</p>

    <p>```</p>
  </li>
  <li>
    <p>Verify that etcd is installed and healthy</p>

    <p>The etcd cluster takes a short while to deploy. Verify that <code>/etcd</code> is healthy before going on to the next step.</p>

    <p>```</p>

    <p>$ dcos marathon app list
 ID           MEM  CPUS  TASKS  HEALTH  DEPLOYMENT  CONTAINER  CMD
 /etcd        128  0.2    1/1    1/1       —        DOCKER   None</p>

    <p>```</p>
  </li>
  <li>
    <p>Create Kubernetes installation configuration</p>

    <p>Configure Kubernetes to use the HA etcd installed on DCOS.</p>

    <p>```</p>

    <p>$ cat &gt;/tmp/options.json «EOF
 {
   “kubernetes”: {
     “etcd-mesos-framework-name”: “etcd”
   }
 }
 EOF</p>

    <p>```</p>
  </li>
  <li>
    <p>Install Kubernetes</p>

    <p>```</p>

    <p>$ dcos package install –options=/tmp/options.json kubernetes</p>

    <p>```</p>
  </li>
  <li>
    <p>Verify that Kubernetes is installed and healthy</p>

    <p>The Kubernetes cluster takes a short while to deploy. Verify that <code>/kubernetes</code> is healthy before going on to the next step.</p>

    <p>```</p>

    <p>$ dcos marathon app list
 ID           MEM  CPUS  TASKS  HEALTH  DEPLOYMENT  CONTAINER  CMD
 /etcd        128  0.2    1/1    1/1       —        DOCKER   None
 /kubernetes  768   1     1/1    1/1       —        DOCKER   None</p>

    <p>```</p>
  </li>
  <li>
    <p>Verify that Kube-DNS &amp; Kube-UI are deployed, running, and ready</p>

    <p>```</p>

    <p>$ dcos kubectl get pods –namespace=kube-system
 NAME                READY     STATUS    RESTARTS   AGE
 kube-dns-v8-tjxk9   4/4       Running   0          1m
 kube-ui-v2-tjq7b    1/1       Running   0          1m</p>

    <p>```</p>

    <p>Names and ages may vary.</p>
  </li>
</ol>

<p>Now that Kubernetes is installed on DCOS, you may wish to explore the <a href="../../examples/README.html">Kubernetes Examples</a> or the <a href="../user-guide/README.html">Kubernetes User Guide</a>.</p>

<h2 id="uninstall">Uninstall</h2>

<ol>
  <li>
    <p>Stop and delete all replication controllers and pods in each namespace:</p>

    <p>Before uninstalling Kubernetes, destroy all the pods and replication controllers. The uninstall process will try to do this itself, but by default it times out quickly and may leave your cluster in a dirty state.</p>

    <p>```</p>

    <p>$ dcos kubectl delete rc,pods –all –namespace=default
 $ dcos kubectl delete rc,pods –all –namespace=kube-system</p>

    <p>```</p>
  </li>
  <li>
    <p>Validate that all pods have been deleted</p>

    <p>```</p>

    <p>$ dcos kubectl get pods –all-namespaces</p>

    <p>```</p>
  </li>
  <li>
    <p>Uninstall Kubernetes</p>

    <p>```</p>

    <p>$ dcos package uninstall kubernetes</p>

    <p>```</p>
  </li>
</ol>

<!-- BEGIN MUNGE: IS_VERSIONED -->
<!-- TAG IS_VERSIONED -->
<!-- END MUNGE: IS_VERSIONED -->

<!-- BEGIN MUNGE: GENERATED_ANALYTICS -->
<p><a href=""><img src="https://kubernetes-site.appspot.com/UA-36037335-10/GitHub/docs/getting-started-guides/dcos.md?pixel" alt="Analytics" /></a>
<!-- END MUNGE: GENERATED_ANALYTICS --></p>


	</div>
</section>


<footer>
	<main class="light-text">
		<nav>
			<a href="/getting-started.html">Getting Started</a>
			<a href="/docs.html">Documentation</a>
			<a href="http://blog.kubernetes.io/">Blog</a>
			<a href="/foobang.html">Community</a>
		</nav>
		<div class="social">
			<a href="https://twitter.com/kubernetesio" class="twitter"><span>twitter</span></a>
			<a href="https://github.com/kubernetes/kubernetes" class="github"><span>Github</span></a>
			<a href="http://slack.k8s.io/" class="slack"><span>Slack</span></a>
			<a href="http://stackoverflow.com/questions/tagged/kubernetes" class="stack-overflow"><span>stackoverflow</span></a>
			<a href="https://groups.google.com/forum/#!forum/google-containers" class="mailing-list"><span>Mailing List</span></a>
			<label for="wishField">I wish this page <input type="text" id="wishField" name="wishField" placeholder="made better textfield suggestions"></label>
		</div>
		<div class="center">&copy; 2016 Kubernetes</div>
	</main>
</footer>

</body>
</html>



