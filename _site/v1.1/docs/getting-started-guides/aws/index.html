<!Doctype html>
<html id="docs">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link href='https://fonts.googleapis.com/css?family=Roboto:400,100,100italic,300,300italic,400italic,500,500italic,700,700italic,900,900italic' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" href="/css/styles.css"/>
	<script src="/js/script.js"></script>
    <script src="/js/jquery-2.2.0.min.js"></script>
    <script src="/js/non-mini.js"></script>
    <title>Kubernetes - Getting started on AWS EC2</title>
</head>
<body>
<div id="cellophane" onclick="kub.toggleMenu()"></div>
<header>
	<a href="/" class="logo"></a>
	<div class="nav-buttons" data-auto-burger="primary">
		<a href="/docs" class="button" id="viewDocs">View Documentation</a>
		<a href="/get-started" class="button" id="tryKubernetes">Try Kubernetes</a>
		<button id="hamburger" onclick="kub.toggleMenu()" data-auto-burger-exclude><div></div></button>
	</div>

	<nav id="mainNav">
		<main data-auto-burger="primary">
			<div class="nav-box">
				<h3><a href="">Get Started</a></h3>
				<p>Built for a multi-cloud world, public, private or hybrid. Seamlessly roll out new features.</p>
			</div>
			<div class="nav-box">
				<h3><a href="">Documentation</a></h3>
				<p>Pellentesque in ipsum id orci porta dapibus. Nulla porttitor accumsan tincidunt. </p>
			</div>
			<div class="nav-box">
				<h3><a href="">Community</a></h3>
				<p>Vestibulum ac diam sit amet quam vehicula elementum sed sit amet dui. </p>
			</div>
			<div class="nav-box">
				<h3><a href="">Blog</a></h3>
				<p>Curabitur arcu erat, accumsan id imperdiet et, porttitor at sem. Quisque velit nisi, pretium ut lacinia in. </p>
			</div>
		</main>
		<main data-auto-burger="primary">
			<div class="left">
				<h5 class="github-invite">Interested in hacking on the core Kubernetes code base?</h5>
				<a href="" class="button">View On Github</a>
			</div>

			<div class="right">
				<h5 class="github-invite">Explore the community</h5>
				<div class="social">
					<a href="https://twitter.com/kubernetesio" class="Twitter"><span>twitter</span></a>
					<a href="https://github.com/kubernetes/kubernetes" class="github"><span>Github</span></a>
					<a href="http://slack.k8s.io/" class="slack"><span>Slack</span></a>
					<a href="http://stackoverflow.com/questions/tagged/kubernetes" class="stack-overflow"><span>stackoverflow</span></a>
					<a href="https://groups.google.com/forum/#!forum/google-containers" class="mailing-list"><span>Mailing List</span></a>
				</div>
			</div>
			<div class="clear" style="clear: both"></div>
		</main>
	</nav>
</header>

<!--  HERO  -->
<section id="hero" class="light-text">
	<h1></h1>
	<h5></h5>
	<div id="vendorStrip" class="light-text">
		<ul>
			<li><a href="/v1.1/guides">GUIDES</a></li>
			<li><a href="/v1.1/reference">REFERENCE</a></li>
			<li><a href="/v1.1/samples">SAMPLES</a></li>
			<li><a href="/v1.1/support">SUPPORT</a></li>
		</ul>
		<div class="dropdown">
			<div class="readout"></div>
			<a href="/v1.1">Version 1.1</a>
			<a href="/v1.0">Version 1.0</a>
		</div>
		<input type="text" id="search" placeholder="Search the docs">
	</div>
</section>

<section id="encyclopedia">
	<div id="docsToc">
        <div class="pi-accordion">
            
            

        </div> <!-- /pi-accordion -->
	</div> <!-- /docsToc -->
	<div id="docsContent">
    	<h1>Getting started on AWS EC2</h1>
		<!-- BEGIN MUNGE: UNVERSIONED_WARNING -->

<!-- END MUNGE: UNVERSIONED_WARNING -->
<p>Getting started on AWS EC2
————————–</p>

<p><strong>Table of Contents</strong></p>

<ul>
  <li><a href="#prerequisites">Prerequisites</a></li>
  <li><a href="#cluster-turnup">Cluster turnup</a>
    <ul>
      <li><a href="#supported-procedure-get-kube">Supported procedure: <code>get-kube</code></a></li>
      <li><a href="#alternatives">Alternatives</a></li>
    </ul>
  </li>
  <li><a href="#getting-started-with-your-cluster">Getting started with your cluster</a>
    <ul>
      <li><a href="#command-line-administration-tool-kubectl">Command line administration tool: <code>kubectl</code></a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>
  </li>
  <li><a href="#tearing-down-the-cluster">Tearing down the cluster</a></li>
  <li><a href="#further-reading">Further reading</a></li>
</ul>

<h2 id="prerequisites">Prerequisites</h2>

<ol>
  <li>You need an AWS account. Visit <a href="http://aws.amazon.com">http://aws.amazon.com</a> to get started</li>
  <li>Install and configure <a href="http://aws.amazon.com/cli">AWS Command Line Interface</a></li>
  <li>You need an AWS <a href="http://docs.aws.amazon.com/IAM/latest/UserGuide/instance-profiles.html">instance profile and role</a> with EC2 full access.</li>
</ol>

<p>NOTE: This script use the ‘default’ AWS profile by default.
You may explicitly set AWS profile to use using the <code>AWS_DEFAULT_PROFILE</code> environment variable:</p>

<div class="highlight">
  <pre><code class="language-bash">export AWS_DEFAULT_PROFILE=myawsprofile
</code></pre>
</div>

<h2 id="cluster-turnup">Cluster turnup</h2>

<h3 id="supported-procedure-get-kube">Supported procedure: <code>get-kube</code></h3>

<div class="highlight">
  <pre><code class="language-bash">#Using wget
export KUBERNETES_PROVIDER=aws; wget -q -O - https://get.k8s.io | bash

#Using cURL
export KUBERNETES_PROVIDER=aws; curl -sS https://get.k8s.io | bash
</code></pre>
</div>

<p>NOTE: This script calls <a href="http://releases.k8s.io/release-1.1/cluster/kube-up.sh">cluster/kube-up.sh</a>
which in turn calls <a href="http://releases.k8s.io/release-1.1/cluster/aws/util.sh">cluster/aws/util.sh</a>
using <a href="http://releases.k8s.io/release-1.1/cluster/aws/config-default.sh">cluster/aws/config-default.sh</a>.</p>

<p>This process takes about 5 to 10 minutes. Once the cluster is up, the IP addresses of your master and node(s) will be printed,
as well as information about the default services running in the cluster (monitoring, logging, dns). User credentials and security
tokens are written in <code>~/.kube/config</code>, they will be necessary to use the CLI or the HTTP Basic Auth.</p>

<p>By default, the script will provision a new VPC and a 4 node k8s cluster in us-west-2a (Oregon) with <code>t2.micro</code> instances running on Ubuntu.
You can override the variables defined in <a href="http://releases.k8s.io/release-1.1/cluster/aws/config-default.sh">config-default.sh</a> to change this behavior as follows:</p>

<div class="highlight">
  <pre><code class="language-bash">export KUBE_AWS_ZONE=eu-west-1c
export NUM_MINIONS=2
export MINION_SIZE=m3.medium
export AWS_S3_REGION=eu-west-1
export AWS_S3_BUCKET=mycompany-kubernetes-artifacts
export INSTANCE_PREFIX=k8s
...
</code></pre>
</div>

<p>It will also try to create or reuse a keypair called “kubernetes”, and IAM profiles called “kubernetes-master” and “kubernetes-minion”.
If these already exist, make sure you want them to be used here.</p>

<p>NOTE: If using an existing keypair named “kubernetes” then you must set the <code>AWS_SSH_KEY</code> key to point to your private key.</p>

<h3 id="alternatives">Alternatives</h3>

<p>A contributed <a href="coreos/coreos_multinode_cluster.html">example</a> allows you to setup a Kubernetes cluster based on <a href="http://www.coreos.com">CoreOS</a>, using
EC2 with user data (cloud-config).</p>

<h2 id="getting-started-with-your-cluster">Getting started with your cluster</h2>

<h3 id="command-line-administration-tool-kubectl">Command line administration tool: <code>kubectl</code></h3>

<p>The cluster startup script will leave you with a <code>kubernetes</code> directory on your workstation.
Alternately, you can download the latest Kubernetes release from <a href="https://github.com/kubernetes/kubernetes/releases">this page</a>.</p>

<p>Next, add the appropriate binary folder to your <code>PATH</code> to access kubectl:</p>

<div class="highlight">
  <pre><code class="language-bash"># OS X
export PATH=&lt;path/to/kubernetes-directory&gt;/platforms/darwin/amd64:$PATH

# Linux
export PATH=&lt;path/to/kubernetes-directory&gt;/platforms/linux/amd64:$PATH
</code></pre>
</div>

<p>An up-to-date documentation page for this tool is available here: <a href="../../docs/user-guide/kubectl/kubectl.html">kubectl manual</a></p>

<p>By default, <code>kubectl</code> will use the <code>kubeconfig</code> file generated during the cluster startup for authenticating against the API.
For more information, please read <a href="../../docs/user-guide/kubeconfig-file.html">kubeconfig files</a></p>

<h3 id="examples">Examples</h3>

<p>See <a href="../../docs/user-guide/simple-nginx.html">a simple nginx example</a> to try out your new cluster.</p>

<p>The “Guestbook” application is another popular example to get started with Kubernetes: <a href="../../examples/guestbook/">guestbook example</a></p>

<p>For more complete applications, please look in the <a href="../../examples/">examples directory</a></p>

<h2 id="tearing-down-the-cluster">Tearing down the cluster</h2>

<p>Make sure the environment variables you used to provision your cluster are still exported, then call the following script inside the
<code>kubernetes</code> directory:</p>

<div class="highlight">
  <pre><code class="language-bash">cluster/kube-down.sh
</code></pre>
</div>

<h2 id="further-reading">Further reading</h2>

<p>Please see the <a href="../../docs/">Kubernetes docs</a> for more details on administering
and using a Kubernetes cluster.</p>

<!-- BEGIN MUNGE: IS_VERSIONED -->
<!-- TAG IS_VERSIONED -->
<!-- END MUNGE: IS_VERSIONED -->

<!-- BEGIN MUNGE: GENERATED_ANALYTICS -->
<p><a href=""><img src="https://kubernetes-site.appspot.com/UA-36037335-10/GitHub/docs/getting-started-guides/aws.md?pixel" alt="Analytics" /></a>
<!-- END MUNGE: GENERATED_ANALYTICS --></p>


	</div>
</section>


<footer>
	<main class="light-text">
		<nav>
			<a href="/getting-started.html">Getting Started</a>
			<a href="/docs.html">Documentation</a>
			<a href="http://blog.kubernetes.io/">Blog</a>
			<a href="/foobang.html">Community</a>
		</nav>
		<div class="social">
			<a href="https://twitter.com/kubernetesio" class="twitter"><span>twitter</span></a>
			<a href="https://github.com/kubernetes/kubernetes" class="github"><span>Github</span></a>
			<a href="http://slack.k8s.io/" class="slack"><span>Slack</span></a>
			<a href="http://stackoverflow.com/questions/tagged/kubernetes" class="stack-overflow"><span>stackoverflow</span></a>
			<a href="https://groups.google.com/forum/#!forum/google-containers" class="mailing-list"><span>Mailing List</span></a>
			<label for="wishField">I wish this page <input type="text" id="wishField" name="wishField" placeholder="made better textfield suggestions"></label>
		</div>
		<div class="center">&copy; 2016 Kubernetes</div>
	</main>
</footer>

</body>
</html>



